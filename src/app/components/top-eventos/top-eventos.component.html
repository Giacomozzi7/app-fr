<ion-modal #modal trigger="open-modal-top">
  <ng-template>
    <ion-content color="light">
      <ion-toolbar color="dark">
        <ion-title>Top Eventos</ion-title>
      </ion-toolbar>
      <ion-segment value="0" mode="ios" color="tertiary" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="0">
          <ion-label>
            <ion-icon class="icon-segment" name="map"></ion-icon>
            <span class="text-segment">Visitas</span>
          </ion-label>
        </ion-segment-button>
        <ion-segment-button value="1">
          <ion-label>
            <ion-icon class="icon-segment" name="star"></ion-icon>
            <span class="text-segment">Inmersión</span>
          </ion-label>
        </ion-segment-button>
        <ion-segment-button value="2">
          <ion-label>
            <ion-icon class="icon-segment" name="star"></ion-icon>
            <span class="text-segment">Interés</span>
          </ion-label>
        </ion-segment-button>
      </ion-segment>
      
    
      <ion-grid class="grilla-top">
        <ion-row class="top-row">
          <ion-col size="1.5">Top</ion-col>
          <ion-col size="2">Ícono</ion-col>
          <ion-col size="3">Categoría</ion-col>
          <ion-col size="3">Nombre</ion-col>
          <ion-col size="2.5">{{labelTipo}}</ion-col>
        </ion-row>

        <ion-row *ngFor="let pi of activeTop; let ind=index">
          <ion-col size="1.5"><b>{{ind + 1}}</b></ion-col>
          <ion-col size="2"> <ion-img src="{{pi.icon}}" style="width:3.5vh"></ion-img></ion-col>
          <ion-col size="3">{{pi.nombre}}</ion-col>
          <ion-col size="3">{{pi.nombre_pi}}</ion-col>
          <ion-col size="2.5">
            <div *ngIf="labelTipo!=='Visitas'; then valoraciones else visitas"></div>
            <ng-template #valoraciones><ion-icon *ngFor="let val of pi.valor" class="icon-stars" name="{{val}}"></ion-icon> </ng-template>
            <ng-template #visitas>{{pi.valor}}</ng-template>
          </ion-col>
        </ion-row>
      </ion-grid>
      <ion-button (click)="modal.dismiss()" color="warning" class='volver-modal'>Volver</ion-button>
    
    
    </ion-content>
  </ng-template>
</ion-modal>