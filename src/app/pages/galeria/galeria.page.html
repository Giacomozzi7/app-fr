<app-header titulo="Galeria de Imágenes" [refback]="refMemoria"></app-header>

<ion-content padding *ngIf="galeria">

    <app-card-resumen [profileId]="profileId"></app-card-resumen>
    <ion-grid class="ion-no-padding" id="grilla">
        <ion-row class="ion-no-padding">
            <ion-col>
                <ion-card color="light" style="border:1px solid;">
                    <ion-card-header style="text-align:center">
                        <ion-icon name="images" style="font-size:4vh"></ion-icon>
                    </ion-card-header>
                    <ion-card-content>
                        <p>En esta sección puedes visualizar todas las imágenes subidas por los usuarios asociadas al punto de interés.</p>
                    </ion-card-content>
                </ion-card>
            </ion-col>
          </ion-row>

          <ion-row style="margin-left:1vh; margin-right:1vh;">
            <ion-col size="6" class="ion-text-center">
              <ion-button class="button-contenido" color="warning" fill="solid" (click) = "toggleImagenes()">{{myImgStr}}</ion-button>
            </ion-col>
            <ion-col size="6"  class="ion-text-center">
              <ion-button class="button-contenido"  color="success" fill="solid"  [href]="refAgregarImagen">Agregar Imágen</ion-button>
            </ion-col>
          </ion-row>

          <ion-row class="row-img" *ngFor="let gal of galeria; let ind=index">
            <ion-col size="12">
              <ion-card *ngIf="gal.tipo==='img'" color="light" class="card-foto">
                <ion-card-content class="card-content">
                    <ion-img [src]="gal.contenido"></ion-img>
                </ion-card-content>
                <ion-card-header>
                    <ion-grid class="ion-no-padding">
                      <ion-row *ngIf="misImgs">
                        <ion-col size="1">
                          <ion-button size="small" [href]="refEditarImagen"><ion-icon name="create"></ion-icon></ion-button>
                          </ion-col>
                      </ion-row>

                      <ion-row>
                        <ion-col size="1">
                          <ion-icon name="heart-outline" class="icon"></ion-icon>
                        </ion-col>
                        <ion-col size="1">
                          <p class="ion-no-margin" style="padding-top:2px"><b>{{gal.likes.length}}</b></p> 
                        </ion-col>
                      </ion-row>
                     
                    </ion-grid>  
                </ion-card-header>
                <ion-card-content>
                  <ion-card-subtitle><b> Por: </b> {{gal.usuario_name}}</ion-card-subtitle>
                  <ion-card-subtitle><b> Fecha: </b> {{gal.fecha_subida}}</ion-card-subtitle>
                  <p style="margin-top:0.7vh">{{gal.descripcion}}</p>

                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        
    </ion-grid>

</ion-content>

